{"version":3,"sources":["../src/index.ts"],"sourcesContent":["/**\n * @b0ase/unified-auth-ui\n *\n * Unified authentication UI types and utilities for multi-provider login.\n *\n * @packageDocumentation\n */\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Auth provider category */\nexport type AuthProviderCategory = 'oauth' | 'wallet' | 'email' | 'phone' | 'passkey';\n\n/** OAuth provider */\nexport type OAuthProvider =\n  | 'google'\n  | 'github'\n  | 'twitter'\n  | 'discord'\n  | 'apple'\n  | 'facebook'\n  | 'linkedin'\n  | 'twitch';\n\n/** Wallet provider */\nexport type WalletProvider =\n  | 'metamask'\n  | 'phantom'\n  | 'handcash'\n  | 'yours'\n  | 'walletconnect'\n  | 'coinbase'\n  | 'ledger'\n  | 'trezor';\n\n/** Blockchain type */\nexport type BlockchainType = 'evm' | 'solana' | 'bsv' | 'bitcoin' | 'multi';\n\n/** Auth provider */\nexport type AuthProvider = OAuthProvider | WalletProvider | 'email' | 'phone' | 'passkey';\n\n/** Auth state */\nexport type AuthState =\n  | 'idle'\n  | 'connecting'\n  | 'authenticating'\n  | 'signing'\n  | 'success'\n  | 'error';\n\n/** Auth error code */\nexport type AuthErrorCode =\n  | 'user_cancelled'\n  | 'wallet_not_installed'\n  | 'connection_failed'\n  | 'signature_rejected'\n  | 'invalid_credentials'\n  | 'account_not_found'\n  | 'account_disabled'\n  | 'rate_limited'\n  | 'network_error'\n  | 'unknown';\n\n/** Provider configuration */\nexport interface ProviderConfig {\n  id: AuthProvider;\n  name: string;\n  category: AuthProviderCategory;\n  icon: string;\n  color: string;\n  darkColor?: string;\n  blockchain?: BlockchainType;\n  enabled: boolean;\n  featured?: boolean;\n  comingSoon?: boolean;\n  beta?: boolean;\n  redirectUrl?: string;\n  scope?: string[];\n}\n\n/** User session */\nexport interface UserSession {\n  id: string;\n  provider: AuthProvider;\n  providerAccountId?: string;\n  email?: string;\n  name?: string;\n  avatarUrl?: string;\n  walletAddress?: string;\n  blockchain?: BlockchainType;\n  accessToken?: string;\n  refreshToken?: string;\n  expiresAt?: Date;\n  metadata?: Record<string, unknown>;\n  createdAt: Date;\n  lastActiveAt: Date;\n}\n\n/** Auth error */\nexport interface AuthError {\n  code: AuthErrorCode;\n  message: string;\n  provider?: AuthProvider;\n  details?: Record<string, unknown>;\n}\n\n/** Auth modal state */\nexport interface AuthModalState {\n  isOpen: boolean;\n  view: AuthView;\n  provider?: AuthProvider;\n  state: AuthState;\n  error?: AuthError;\n  session?: UserSession;\n}\n\n/** Auth view */\nexport type AuthView =\n  | 'providers'\n  | 'email-input'\n  | 'email-verify'\n  | 'phone-input'\n  | 'phone-verify'\n  | 'wallet-connect'\n  | 'wallet-sign'\n  | 'loading'\n  | 'success'\n  | 'error';\n\n/** Auth callbacks */\nexport interface AuthCallbacks {\n  onAuthStart?: (provider: AuthProvider) => void;\n  onAuthSuccess?: (session: UserSession) => void;\n  onAuthError?: (error: AuthError) => void;\n  onAuthCancel?: () => void;\n  onSignMessage?: (message: string, address: string) => Promise<string>;\n  onVerifySignature?: (signature: string, message: string, address: string) => Promise<boolean>;\n}\n\n/** Auth modal config */\nexport interface AuthModalConfig {\n  title?: string;\n  subtitle?: string;\n  logo?: string;\n  providers: ProviderConfig[];\n  featured?: AuthProvider[];\n  callbacks?: AuthCallbacks;\n  theme?: 'light' | 'dark' | 'system';\n  brandColor?: string;\n  showTerms?: boolean;\n  termsUrl?: string;\n  privacyUrl?: string;\n  allowGuestMode?: boolean;\n}\n\n// ============================================================================\n// Default Provider Configs\n// ============================================================================\n\nexport const OAUTH_PROVIDERS: Record<OAuthProvider, ProviderConfig> = {\n  google: {\n    id: 'google',\n    name: 'Google',\n    category: 'oauth',\n    icon: 'google',\n    color: '#4285F4',\n    enabled: true,\n    featured: true,\n  },\n  github: {\n    id: 'github',\n    name: 'GitHub',\n    category: 'oauth',\n    icon: 'github',\n    color: '#24292e',\n    darkColor: '#ffffff',\n    enabled: true,\n    featured: true,\n  },\n  twitter: {\n    id: 'twitter',\n    name: 'X (Twitter)',\n    category: 'oauth',\n    icon: 'twitter',\n    color: '#000000',\n    darkColor: '#ffffff',\n    enabled: true,\n  },\n  discord: {\n    id: 'discord',\n    name: 'Discord',\n    category: 'oauth',\n    icon: 'discord',\n    color: '#5865F2',\n    enabled: true,\n  },\n  apple: {\n    id: 'apple',\n    name: 'Apple',\n    category: 'oauth',\n    icon: 'apple',\n    color: '#000000',\n    darkColor: '#ffffff',\n    enabled: true,\n  },\n  facebook: {\n    id: 'facebook',\n    name: 'Facebook',\n    category: 'oauth',\n    icon: 'facebook',\n    color: '#1877F2',\n    enabled: false,\n  },\n  linkedin: {\n    id: 'linkedin',\n    name: 'LinkedIn',\n    category: 'oauth',\n    icon: 'linkedin',\n    color: '#0A66C2',\n    enabled: false,\n  },\n  twitch: {\n    id: 'twitch',\n    name: 'Twitch',\n    category: 'oauth',\n    icon: 'twitch',\n    color: '#9146FF',\n    enabled: false,\n  },\n};\n\nexport const WALLET_PROVIDERS: Record<WalletProvider, ProviderConfig> = {\n  metamask: {\n    id: 'metamask',\n    name: 'MetaMask',\n    category: 'wallet',\n    icon: 'metamask',\n    color: '#E2761B',\n    blockchain: 'evm',\n    enabled: true,\n    featured: true,\n  },\n  phantom: {\n    id: 'phantom',\n    name: 'Phantom',\n    category: 'wallet',\n    icon: 'phantom',\n    color: '#AB9FF2',\n    blockchain: 'solana',\n    enabled: true,\n    featured: true,\n  },\n  handcash: {\n    id: 'handcash',\n    name: 'HandCash',\n    category: 'wallet',\n    icon: 'handcash',\n    color: '#38CB7C',\n    blockchain: 'bsv',\n    enabled: true,\n    featured: true,\n  },\n  yours: {\n    id: 'yours',\n    name: 'Yours Wallet',\n    category: 'wallet',\n    icon: 'yours',\n    color: '#FF6B00',\n    blockchain: 'bsv',\n    enabled: true,\n  },\n  walletconnect: {\n    id: 'walletconnect',\n    name: 'WalletConnect',\n    category: 'wallet',\n    icon: 'walletconnect',\n    color: '#3B99FC',\n    blockchain: 'multi',\n    enabled: true,\n  },\n  coinbase: {\n    id: 'coinbase',\n    name: 'Coinbase Wallet',\n    category: 'wallet',\n    icon: 'coinbase',\n    color: '#0052FF',\n    blockchain: 'evm',\n    enabled: true,\n  },\n  ledger: {\n    id: 'ledger',\n    name: 'Ledger',\n    category: 'wallet',\n    icon: 'ledger',\n    color: '#000000',\n    darkColor: '#ffffff',\n    blockchain: 'multi',\n    enabled: true,\n  },\n  trezor: {\n    id: 'trezor',\n    name: 'Trezor',\n    category: 'wallet',\n    icon: 'trezor',\n    color: '#00A846',\n    blockchain: 'multi',\n    enabled: false,\n    comingSoon: true,\n  },\n};\n\n// ============================================================================\n// Auth State Manager\n// ============================================================================\n\nexport class AuthStateManager {\n  private state: AuthModalState;\n  private config: AuthModalConfig;\n  private listeners: Set<(state: AuthModalState) => void> = new Set();\n\n  constructor(config: AuthModalConfig) {\n    this.config = config;\n    this.state = {\n      isOpen: false,\n      view: 'providers',\n      state: 'idle',\n    };\n  }\n\n  getState(): AuthModalState {\n    return { ...this.state };\n  }\n\n  getConfig(): AuthModalConfig {\n    return { ...this.config };\n  }\n\n  subscribe(listener: (state: AuthModalState) => void): () => void {\n    this.listeners.add(listener);\n    return () => this.listeners.delete(listener);\n  }\n\n  private notify(): void {\n    const state = this.getState();\n    for (const listener of this.listeners) {\n      listener(state);\n    }\n  }\n\n  open(): void {\n    this.state = {\n      ...this.state,\n      isOpen: true,\n      view: 'providers',\n      state: 'idle',\n      error: undefined,\n    };\n    this.notify();\n  }\n\n  close(): void {\n    this.state = {\n      ...this.state,\n      isOpen: false,\n    };\n    this.notify();\n    this.config.callbacks?.onAuthCancel?.();\n  }\n\n  setView(view: AuthView): void {\n    this.state = { ...this.state, view };\n    this.notify();\n  }\n\n  selectProvider(provider: AuthProvider): void {\n    const providerConfig = this.getProviderConfig(provider);\n    if (!providerConfig || !providerConfig.enabled) {\n      return;\n    }\n\n    this.state = {\n      ...this.state,\n      provider,\n      state: 'connecting',\n      view: providerConfig.category === 'wallet' ? 'wallet-connect' : 'loading',\n    };\n    this.notify();\n    this.config.callbacks?.onAuthStart?.(provider);\n  }\n\n  setAuthenticating(): void {\n    this.state = { ...this.state, state: 'authenticating' };\n    this.notify();\n  }\n\n  setSigning(): void {\n    this.state = { ...this.state, state: 'signing', view: 'wallet-sign' };\n    this.notify();\n  }\n\n  setSuccess(session: UserSession): void {\n    this.state = {\n      ...this.state,\n      state: 'success',\n      view: 'success',\n      session,\n      error: undefined,\n    };\n    this.notify();\n    this.config.callbacks?.onAuthSuccess?.(session);\n  }\n\n  setError(error: AuthError): void {\n    this.state = {\n      ...this.state,\n      state: 'error',\n      view: 'error',\n      error,\n    };\n    this.notify();\n    this.config.callbacks?.onAuthError?.(error);\n  }\n\n  reset(): void {\n    this.state = {\n      isOpen: this.state.isOpen,\n      view: 'providers',\n      state: 'idle',\n      provider: undefined,\n      error: undefined,\n      session: undefined,\n    };\n    this.notify();\n  }\n\n  getProviderConfig(provider: AuthProvider): ProviderConfig | undefined {\n    return this.config.providers.find(p => p.id === provider);\n  }\n\n  getProvidersByCategory(category: AuthProviderCategory): ProviderConfig[] {\n    return this.config.providers.filter(\n      p => p.category === category && p.enabled\n    );\n  }\n\n  getFeaturedProviders(): ProviderConfig[] {\n    if (this.config.featured && this.config.featured.length > 0) {\n      return this.config.featured\n        .map(id => this.getProviderConfig(id))\n        .filter((p): p is ProviderConfig => !!p && p.enabled);\n    }\n    return this.config.providers.filter(p => p.featured && p.enabled);\n  }\n}\n\n// ============================================================================\n// Factory Functions\n// ============================================================================\n\nexport function createAuthManager(config: AuthModalConfig): AuthStateManager {\n  return new AuthStateManager(config);\n}\n\nexport function createDefaultConfig(overrides?: Partial<AuthModalConfig>): AuthModalConfig {\n  return {\n    title: 'Sign in',\n    subtitle: 'Choose your preferred sign in method',\n    providers: [\n      ...Object.values(OAUTH_PROVIDERS),\n      ...Object.values(WALLET_PROVIDERS),\n      {\n        id: 'email',\n        name: 'Email',\n        category: 'email',\n        icon: 'mail',\n        color: '#6B7280',\n        enabled: true,\n      },\n    ],\n    featured: ['google', 'github', 'metamask', 'phantom'],\n    theme: 'system',\n    showTerms: true,\n    ...overrides,\n  };\n}\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\nexport function getProviderIcon(provider: AuthProvider): string {\n  const config = OAUTH_PROVIDERS[provider as OAuthProvider] ||\n    WALLET_PROVIDERS[provider as WalletProvider];\n  return config?.icon || provider;\n}\n\nexport function getProviderColor(provider: AuthProvider, dark?: boolean): string {\n  const config = OAUTH_PROVIDERS[provider as OAuthProvider] ||\n    WALLET_PROVIDERS[provider as WalletProvider];\n  if (!config) return '#6B7280';\n  return dark && config.darkColor ? config.darkColor : config.color;\n}\n\nexport function getProviderName(provider: AuthProvider): string {\n  const config = OAUTH_PROVIDERS[provider as OAuthProvider] ||\n    WALLET_PROVIDERS[provider as WalletProvider];\n  return config?.name || provider;\n}\n\nexport function getProviderCategory(provider: AuthProvider): AuthProviderCategory {\n  if (provider in OAUTH_PROVIDERS) return 'oauth';\n  if (provider in WALLET_PROVIDERS) return 'wallet';\n  if (provider === 'email') return 'email';\n  if (provider === 'phone') return 'phone';\n  if (provider === 'passkey') return 'passkey';\n  return 'oauth';\n}\n\nexport function isWalletProvider(provider: AuthProvider): provider is WalletProvider {\n  return provider in WALLET_PROVIDERS;\n}\n\nexport function isOAuthProvider(provider: AuthProvider): provider is OAuthProvider {\n  return provider in OAUTH_PROVIDERS;\n}\n\nexport function getBlockchainType(provider: WalletProvider): BlockchainType | undefined {\n  return WALLET_PROVIDERS[provider]?.blockchain;\n}\n\nexport function createAuthError(\n  code: AuthErrorCode,\n  message?: string,\n  provider?: AuthProvider\n): AuthError {\n  const defaultMessages: Record<AuthErrorCode, string> = {\n    user_cancelled: 'Authentication was cancelled',\n    wallet_not_installed: 'Wallet extension not detected',\n    connection_failed: 'Failed to connect',\n    signature_rejected: 'Signature request was rejected',\n    invalid_credentials: 'Invalid credentials',\n    account_not_found: 'Account not found',\n    account_disabled: 'Account has been disabled',\n    rate_limited: 'Too many attempts. Please try again later',\n    network_error: 'Network error. Please check your connection',\n    unknown: 'An unknown error occurred',\n  };\n\n  return {\n    code,\n    message: message || defaultMessages[code],\n    provider,\n  };\n}\n\nexport function generateNonce(): string {\n  const array = new Uint8Array(32);\n  if (typeof crypto !== 'undefined' && crypto.getRandomValues) {\n    crypto.getRandomValues(array);\n  } else {\n    for (let i = 0; i < array.length; i++) {\n      array[i] = Math.floor(Math.random() * 256);\n    }\n  }\n  return Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');\n}\n\nexport function createSignMessage(domain: string, nonce: string, statement?: string): string {\n  const parts = [\n    `${domain} wants you to sign in with your wallet.`,\n  ];\n\n  if (statement) {\n    parts.push('', statement);\n  }\n\n  parts.push(\n    '',\n    `Nonce: ${nonce}`,\n    `Issued At: ${new Date().toISOString()}`\n  );\n\n  return parts.join('\\n');\n}\n\nexport function formatWalletAddress(address: string, chars: number = 4): string {\n  if (address.length <= chars * 2 + 3) return address;\n  return `${address.slice(0, chars + 2)}...${address.slice(-chars)}`;\n}\n"],"mappings":"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","names":[]}