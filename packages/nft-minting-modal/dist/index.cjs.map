{"version":3,"sources":["../src/index.ts"],"sourcesContent":["/**\n * @b0ase/nft-minting-modal\n *\n * NFT creation and minting interface types and utilities.\n *\n * @packageDocumentation\n */\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** NFT standard */\nexport type NFTStandard =\n  | 'ordinals'\n  | 'bsv-21'\n  | 'erc-721'\n  | 'erc-1155'\n  | 'metaplex';\n\n/** Content type */\nexport type ContentType =\n  | 'image'\n  | 'video'\n  | 'audio'\n  | 'document'\n  | 'html'\n  | '3d'\n  | 'code';\n\n/** Minting status */\nexport type MintingStatus =\n  | 'idle'\n  | 'uploading'\n  | 'processing'\n  | 'signing'\n  | 'broadcasting'\n  | 'confirming'\n  | 'completed'\n  | 'failed';\n\n/** Rarity level */\nexport type RarityLevel =\n  | 'common'\n  | 'uncommon'\n  | 'rare'\n  | 'epic'\n  | 'legendary'\n  | 'unique';\n\n/** NFT attribute */\nexport interface NFTAttribute {\n  trait_type: string;\n  value: string | number;\n  display_type?: 'string' | 'number' | 'date' | 'boost_number' | 'boost_percentage';\n  max_value?: number;\n  rarity?: number;\n}\n\n/** NFT metadata */\nexport interface NFTMetadata {\n  name: string;\n  description?: string;\n  image?: string;\n  animation_url?: string;\n  external_url?: string;\n  attributes?: NFTAttribute[];\n  properties?: Record<string, unknown>;\n  collection?: CollectionInfo;\n}\n\n/** Collection info */\nexport interface CollectionInfo {\n  name: string;\n  description?: string;\n  image?: string;\n  external_link?: string;\n  seller_fee_basis_points?: number;\n  fee_recipient?: string;\n}\n\n/** File upload */\nexport interface FileUpload {\n  id: string;\n  file?: File;\n  url?: string;\n  name: string;\n  size: number;\n  mimeType: string;\n  contentType: ContentType;\n  preview?: string;\n  uploadProgress: number;\n  uploadedUrl?: string;\n  error?: string;\n}\n\n/** Mint options */\nexport interface MintOptions {\n  standard: NFTStandard;\n  blockchain: 'bsv' | 'bitcoin' | 'ethereum' | 'solana';\n  quantity: number;\n  royaltyPercent?: number;\n  royaltyAddress?: string;\n  collection?: string;\n  isSoulbound?: boolean;\n  isLazy?: boolean;\n  scheduledAt?: Date;\n}\n\n/** Mint result */\nexport interface MintResult {\n  success: boolean;\n  inscriptionId?: string;\n  tokenId?: string;\n  txid?: string;\n  contractAddress?: string;\n  explorerUrl?: string;\n  error?: string;\n}\n\n/** Minting state */\nexport interface MintingState {\n  status: MintingStatus;\n  progress: number;\n  statusMessage: string;\n  file?: FileUpload;\n  metadata: NFTMetadata;\n  options: MintOptions;\n  result?: MintResult;\n  error?: string;\n}\n\n/** Modal config */\nexport interface ModalConfig {\n  allowedContentTypes: ContentType[];\n  maxFileSize: number;\n  supportedStandards: NFTStandard[];\n  defaultStandard: NFTStandard;\n  defaultBlockchain: string;\n  showPreview: boolean;\n  showAttributeEditor: boolean;\n  showRoyaltySettings: boolean;\n  showCollectionSelector: boolean;\n  customBranding?: {\n    title?: string;\n    logo?: string;\n    primaryColor?: string;\n  };\n}\n\n/** Step definition */\nexport interface MintStep {\n  id: string;\n  title: string;\n  description?: string;\n  component: 'upload' | 'metadata' | 'options' | 'preview' | 'confirm' | 'result';\n  optional?: boolean;\n  completed: boolean;\n  active: boolean;\n}\n\n// ============================================================================\n// Default Configuration\n// ============================================================================\n\nexport const DEFAULT_MODAL_CONFIG: ModalConfig = {\n  allowedContentTypes: ['image', 'video', 'audio', 'document'],\n  maxFileSize: 100 * 1024 * 1024, // 100MB\n  supportedStandards: ['ordinals', 'bsv-21'],\n  defaultStandard: 'ordinals',\n  defaultBlockchain: 'bsv',\n  showPreview: true,\n  showAttributeEditor: true,\n  showRoyaltySettings: true,\n  showCollectionSelector: true,\n};\n\nexport const DEFAULT_MINT_OPTIONS: MintOptions = {\n  standard: 'ordinals',\n  blockchain: 'bsv',\n  quantity: 1,\n  royaltyPercent: 5,\n};\n\nexport const CONTENT_TYPE_MIMES: Record<ContentType, string[]> = {\n  image: ['image/png', 'image/jpeg', 'image/gif', 'image/webp', 'image/svg+xml'],\n  video: ['video/mp4', 'video/webm', 'video/quicktime'],\n  audio: ['audio/mpeg', 'audio/wav', 'audio/ogg', 'audio/flac'],\n  document: ['application/pdf', 'text/plain', 'text/markdown'],\n  html: ['text/html'],\n  '3d': ['model/gltf-binary', 'model/gltf+json'],\n  code: ['text/javascript', 'application/json', 'text/css'],\n};\n\nexport const DEFAULT_STEPS: MintStep[] = [\n  { id: 'upload', title: 'Upload', component: 'upload', completed: false, active: true },\n  { id: 'metadata', title: 'Details', component: 'metadata', completed: false, active: false },\n  { id: 'options', title: 'Options', component: 'options', completed: false, active: false },\n  { id: 'preview', title: 'Preview', component: 'preview', completed: false, active: false },\n  { id: 'confirm', title: 'Mint', component: 'confirm', completed: false, active: false },\n];\n\n// ============================================================================\n// Minting Manager\n// ============================================================================\n\nexport class MintingManager {\n  private state: MintingState;\n  private config: ModalConfig;\n  private steps: MintStep[];\n  private currentStepIndex: number;\n  private listeners: Set<(state: MintingState) => void> = new Set();\n  private mintCallback?: (state: MintingState) => Promise<MintResult>;\n\n  constructor(config?: Partial<ModalConfig>) {\n    this.config = { ...DEFAULT_MODAL_CONFIG, ...config };\n    this.steps = DEFAULT_STEPS.map(s => ({ ...s }));\n    this.currentStepIndex = 0;\n    this.state = {\n      status: 'idle',\n      progress: 0,\n      statusMessage: '',\n      metadata: { name: '' },\n      options: { ...DEFAULT_MINT_OPTIONS },\n    };\n  }\n\n  // ==========================================================================\n  // State Management\n  // ==========================================================================\n\n  getState(): MintingState {\n    return { ...this.state };\n  }\n\n  subscribe(listener: (state: MintingState) => void): () => void {\n    this.listeners.add(listener);\n    return () => this.listeners.delete(listener);\n  }\n\n  private notify(): void {\n    const state = this.getState();\n    for (const listener of this.listeners) {\n      listener(state);\n    }\n  }\n\n  private updateState(updates: Partial<MintingState>): void {\n    this.state = { ...this.state, ...updates };\n    this.notify();\n  }\n\n  // ==========================================================================\n  // Step Management\n  // ==========================================================================\n\n  getSteps(): MintStep[] {\n    return this.steps.map(s => ({ ...s }));\n  }\n\n  getCurrentStep(): MintStep {\n    return { ...this.steps[this.currentStepIndex] };\n  }\n\n  nextStep(): boolean {\n    if (this.currentStepIndex >= this.steps.length - 1) return false;\n\n    this.steps[this.currentStepIndex].completed = true;\n    this.steps[this.currentStepIndex].active = false;\n    this.currentStepIndex++;\n    this.steps[this.currentStepIndex].active = true;\n\n    return true;\n  }\n\n  prevStep(): boolean {\n    if (this.currentStepIndex <= 0) return false;\n\n    this.steps[this.currentStepIndex].active = false;\n    this.currentStepIndex--;\n    this.steps[this.currentStepIndex].active = true;\n    this.steps[this.currentStepIndex].completed = false;\n\n    return true;\n  }\n\n  goToStep(stepId: string): boolean {\n    const index = this.steps.findIndex(s => s.id === stepId);\n    if (index < 0) return false;\n\n    this.steps[this.currentStepIndex].active = false;\n    this.currentStepIndex = index;\n    this.steps[this.currentStepIndex].active = true;\n\n    return true;\n  }\n\n  // ==========================================================================\n  // File Handling\n  // ==========================================================================\n\n  setFile(file: FileUpload): void {\n    this.updateState({ file });\n\n    // Auto-populate metadata name from filename\n    if (!this.state.metadata.name && file.name) {\n      const name = file.name.replace(/\\.[^/.]+$/, '');\n      this.updateState({\n        metadata: { ...this.state.metadata, name },\n      });\n    }\n  }\n\n  updateFileProgress(progress: number): void {\n    if (!this.state.file) return;\n    this.updateState({\n      file: { ...this.state.file, uploadProgress: progress },\n    });\n  }\n\n  setFileUploaded(url: string): void {\n    if (!this.state.file) return;\n    this.updateState({\n      file: { ...this.state.file, uploadedUrl: url, uploadProgress: 100 },\n      metadata: { ...this.state.metadata, image: url },\n    });\n  }\n\n  // ==========================================================================\n  // Metadata\n  // ==========================================================================\n\n  setMetadata(metadata: Partial<NFTMetadata>): void {\n    this.updateState({\n      metadata: { ...this.state.metadata, ...metadata },\n    });\n  }\n\n  addAttribute(attribute: NFTAttribute): void {\n    const attributes = [...(this.state.metadata.attributes || []), attribute];\n    this.updateState({\n      metadata: { ...this.state.metadata, attributes },\n    });\n  }\n\n  updateAttribute(index: number, attribute: NFTAttribute): void {\n    const attributes = [...(this.state.metadata.attributes || [])];\n    attributes[index] = attribute;\n    this.updateState({\n      metadata: { ...this.state.metadata, attributes },\n    });\n  }\n\n  removeAttribute(index: number): void {\n    const attributes = [...(this.state.metadata.attributes || [])];\n    attributes.splice(index, 1);\n    this.updateState({\n      metadata: { ...this.state.metadata, attributes },\n    });\n  }\n\n  // ==========================================================================\n  // Options\n  // ==========================================================================\n\n  setOptions(options: Partial<MintOptions>): void {\n    this.updateState({\n      options: { ...this.state.options, ...options },\n    });\n  }\n\n  // ==========================================================================\n  // Minting\n  // ==========================================================================\n\n  setMintCallback(callback: (state: MintingState) => Promise<MintResult>): void {\n    this.mintCallback = callback;\n  }\n\n  async mint(): Promise<MintResult> {\n    if (!this.mintCallback) {\n      throw new Error('Mint callback not configured');\n    }\n\n    try {\n      this.updateState({ status: 'processing', progress: 0, statusMessage: 'Preparing...' });\n\n      this.updateState({ status: 'uploading', progress: 20, statusMessage: 'Uploading content...' });\n\n      this.updateState({ status: 'processing', progress: 40, statusMessage: 'Processing metadata...' });\n\n      this.updateState({ status: 'signing', progress: 60, statusMessage: 'Requesting signature...' });\n\n      const result = await this.mintCallback(this.state);\n\n      if (result.success) {\n        this.updateState({\n          status: 'completed',\n          progress: 100,\n          statusMessage: 'NFT minted successfully!',\n          result,\n        });\n      } else {\n        this.updateState({\n          status: 'failed',\n          progress: 0,\n          statusMessage: result.error || 'Minting failed',\n          error: result.error,\n          result,\n        });\n      }\n\n      return result;\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n      this.updateState({\n        status: 'failed',\n        progress: 0,\n        statusMessage: errorMessage,\n        error: errorMessage,\n      });\n\n      return { success: false, error: errorMessage };\n    }\n  }\n\n  // ==========================================================================\n  // Validation\n  // ==========================================================================\n\n  validateFile(file: File): { valid: boolean; error?: string } {\n    // Check size\n    if (file.size > this.config.maxFileSize) {\n      return { valid: false, error: `File too large. Max size: ${formatFileSize(this.config.maxFileSize)}` };\n    }\n\n    // Check type\n    const contentType = getContentType(file.type);\n    if (!contentType || !this.config.allowedContentTypes.includes(contentType)) {\n      return { valid: false, error: 'File type not supported' };\n    }\n\n    return { valid: true };\n  }\n\n  validateMetadata(): { valid: boolean; errors: string[] } {\n    const errors: string[] = [];\n\n    if (!this.state.metadata.name?.trim()) {\n      errors.push('Name is required');\n    }\n\n    if (this.state.metadata.name && this.state.metadata.name.length > 100) {\n      errors.push('Name must be less than 100 characters');\n    }\n\n    return { valid: errors.length === 0, errors };\n  }\n\n  canProceed(): boolean {\n    const step = this.getCurrentStep();\n\n    switch (step.component) {\n      case 'upload':\n        return !!this.state.file;\n      case 'metadata':\n        return this.validateMetadata().valid;\n      case 'options':\n        return true;\n      case 'preview':\n        return true;\n      case 'confirm':\n        return this.state.status !== 'processing';\n      default:\n        return true;\n    }\n  }\n\n  // ==========================================================================\n  // Reset\n  // ==========================================================================\n\n  reset(): void {\n    this.steps = DEFAULT_STEPS.map(s => ({ ...s }));\n    this.currentStepIndex = 0;\n    this.state = {\n      status: 'idle',\n      progress: 0,\n      statusMessage: '',\n      metadata: { name: '' },\n      options: { ...DEFAULT_MINT_OPTIONS },\n    };\n    this.notify();\n  }\n}\n\n// ============================================================================\n// Factory Functions\n// ============================================================================\n\nexport function createMintingManager(config?: Partial<ModalConfig>): MintingManager {\n  return new MintingManager(config);\n}\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\nexport function getContentType(mimeType: string): ContentType | undefined {\n  for (const [type, mimes] of Object.entries(CONTENT_TYPE_MIMES)) {\n    if (mimes.includes(mimeType)) {\n      return type as ContentType;\n    }\n  }\n  return undefined;\n}\n\nexport function formatFileSize(bytes: number): string {\n  if (bytes >= 1024 * 1024 * 1024) return `${(bytes / (1024 * 1024 * 1024)).toFixed(2)} GB`;\n  if (bytes >= 1024 * 1024) return `${(bytes / (1024 * 1024)).toFixed(2)} MB`;\n  if (bytes >= 1024) return `${(bytes / 1024).toFixed(2)} KB`;\n  return `${bytes} B`;\n}\n\nexport function generateMetadataJson(metadata: NFTMetadata): string {\n  return JSON.stringify(metadata, null, 2);\n}\n\nexport function getRarityColor(rarity: RarityLevel): string {\n  const colors: Record<RarityLevel, string> = {\n    common: '#9CA3AF',\n    uncommon: '#22C55E',\n    rare: '#3B82F6',\n    epic: '#8B5CF6',\n    legendary: '#F59E0B',\n    unique: '#EF4444',\n  };\n  return colors[rarity];\n}\n\nexport function calculateRoyalty(salePrice: number, royaltyPercent: number): number {\n  return salePrice * (royaltyPercent / 100);\n}\n\nexport function getExplorerUrl(\n  blockchain: string,\n  type: 'tx' | 'token' | 'inscription',\n  id: string\n): string {\n  const explorers: Record<string, Record<string, string>> = {\n    bsv: {\n      tx: `https://whatsonchain.com/tx/${id}`,\n      token: `https://whatsonchain.com/tx/${id}`,\n      inscription: `https://1satordinals.com/inscription/${id}`,\n    },\n    bitcoin: {\n      tx: `https://mempool.space/tx/${id}`,\n      inscription: `https://ordinals.com/inscription/${id}`,\n    },\n    ethereum: {\n      tx: `https://etherscan.io/tx/${id}`,\n      token: `https://etherscan.io/token/${id}`,\n    },\n    solana: {\n      tx: `https://solscan.io/tx/${id}`,\n      token: `https://solscan.io/token/${id}`,\n    },\n  };\n\n  return explorers[blockchain]?.[type] || '';\n}\n"],"mappings":"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","names":[]}