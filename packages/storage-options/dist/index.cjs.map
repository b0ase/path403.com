{"version":3,"sources":["../src/index.ts"],"sourcesContent":["/**\n * @b0ase/storage-options\n *\n * Cloud and blockchain storage option definitions and utilities.\n *\n * @example\n * ```typescript\n * import {\n *   STORAGE_PROVIDERS,\n *   getProvider,\n *   selectBestProvider,\n *   estimateStorageCost,\n * } from '@b0ase/storage-options';\n *\n * // Get all providers\n * console.log(STORAGE_PROVIDERS);\n *\n * // Get specific provider\n * const ipfs = getProvider('ipfs');\n *\n * // Select best provider for use case\n * const best = selectBestProvider({\n *   fileSize: 1024 * 1024, // 1MB\n *   permanence: 'permanent',\n *   budget: 'low',\n * });\n *\n * // Estimate cost\n * const cost = estimateStorageCost('arweave', 1024 * 1024);\n * ```\n *\n * @packageDocumentation\n */\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Storage provider type */\nexport type StorageProviderType =\n  | 'cloud'      // Traditional cloud (S3, GCS, Azure)\n  | 'ipfs'       // IPFS network\n  | 'arweave'    // Arweave permanent storage\n  | 'blockchain' // On-chain (B://, Bcat, OP_RETURN)\n  | 'hybrid';    // Combination\n\n/** Storage permanence */\nexport type StoragePermanence =\n  | 'temporary'  // Can be deleted\n  | 'pinned'     // Pinned but not guaranteed\n  | 'permanent'; // Immutable/permanent\n\n/** Storage tier */\nexport type StorageTier =\n  | 'hot'        // Frequently accessed\n  | 'warm'       // Occasionally accessed\n  | 'cold'       // Rarely accessed\n  | 'archive';   // Long-term archive\n\n/** Budget level */\nexport type BudgetLevel = 'free' | 'low' | 'medium' | 'high' | 'unlimited';\n\n/** Storage provider definition */\nexport interface StorageProvider {\n  /** Provider ID */\n  id: string;\n  /** Display name */\n  name: string;\n  /** Description */\n  description: string;\n  /** Provider type */\n  type: StorageProviderType;\n  /** Permanence level */\n  permanence: StoragePermanence;\n  /** Storage tier */\n  tier: StorageTier;\n  /** Icon name (lucide) */\n  icon: string;\n  /** Max file size in bytes (0 = unlimited) */\n  maxFileSize: number;\n  /** Supports directories */\n  supportsDirectories: boolean;\n  /** Is decentralized */\n  decentralized: boolean;\n  /** Requires payment */\n  requiresPayment: boolean;\n  /** Base cost per MB (USD, 0 = free) */\n  costPerMb: number;\n  /** URI prefix */\n  uriPrefix: string;\n  /** Supported content types (empty = all) */\n  supportedTypes: string[];\n  /** Features */\n  features: string[];\n}\n\n/** Storage selection criteria */\nexport interface StorageSelectionCriteria {\n  /** File size in bytes */\n  fileSize?: number;\n  /** Required permanence */\n  permanence?: StoragePermanence;\n  /** Budget level */\n  budget?: BudgetLevel;\n  /** Requires decentralization */\n  requireDecentralized?: boolean;\n  /** Content type */\n  contentType?: string;\n  /** Preferred tier */\n  tier?: StorageTier;\n}\n\n/** Storage reference */\nexport interface StorageReference {\n  /** Provider ID */\n  provider: string;\n  /** Content URI */\n  uri: string;\n  /** Content hash */\n  hash?: string;\n  /** File size */\n  size?: number;\n  /** Content type */\n  contentType?: string;\n  /** Upload timestamp */\n  uploadedAt: Date;\n  /** Expiry (if temporary) */\n  expiresAt?: Date;\n  /** Metadata */\n  metadata?: Record<string, unknown>;\n}\n\n// ============================================================================\n// Storage Providers\n// ============================================================================\n\n/** IPFS provider */\nexport const IPFS_PROVIDER: StorageProvider = {\n  id: 'ipfs',\n  name: 'IPFS',\n  description: 'InterPlanetary File System - decentralized content addressing',\n  type: 'ipfs',\n  permanence: 'pinned',\n  tier: 'hot',\n  icon: 'globe',\n  maxFileSize: 0, // Unlimited\n  supportsDirectories: true,\n  decentralized: true,\n  requiresPayment: false,\n  costPerMb: 0,\n  uriPrefix: 'ipfs://',\n  supportedTypes: [],\n  features: ['content-addressing', 'deduplication', 'p2p', 'versioning'],\n};\n\n/** Arweave provider */\nexport const ARWEAVE_PROVIDER: StorageProvider = {\n  id: 'arweave',\n  name: 'Arweave',\n  description: 'Permanent, decentralized storage on the permaweb',\n  type: 'arweave',\n  permanence: 'permanent',\n  tier: 'archive',\n  icon: 'archive',\n  maxFileSize: 0,\n  supportsDirectories: false,\n  decentralized: true,\n  requiresPayment: true,\n  costPerMb: 0.005, // ~$0.005 per MB\n  uriPrefix: 'ar://',\n  supportedTypes: [],\n  features: ['permanent', 'immutable', 'censorship-resistant'],\n};\n\n/** B:// Protocol provider */\nexport const B_PROTOCOL_PROVIDER: StorageProvider = {\n  id: 'b-protocol',\n  name: 'B:// Protocol',\n  description: 'Bitcoin SV on-chain file storage',\n  type: 'blockchain',\n  permanence: 'permanent',\n  tier: 'archive',\n  icon: 'database',\n  maxFileSize: 100000, // ~100KB practical limit\n  supportsDirectories: false,\n  decentralized: true,\n  requiresPayment: true,\n  costPerMb: 0.5, // ~$0.50 per MB in BSV fees\n  uriPrefix: 'b://',\n  supportedTypes: [],\n  features: ['immutable', 'on-chain', 'timestamped'],\n};\n\n/** Bcat Protocol provider (chunked) */\nexport const BCAT_PROVIDER: StorageProvider = {\n  id: 'bcat',\n  name: 'Bcat Protocol',\n  description: 'Bitcoin SV chunked file storage for larger files',\n  type: 'blockchain',\n  permanence: 'permanent',\n  tier: 'archive',\n  icon: 'layers',\n  maxFileSize: 10000000, // ~10MB with chunking\n  supportsDirectories: false,\n  decentralized: true,\n  requiresPayment: true,\n  costPerMb: 0.5,\n  uriPrefix: 'bcat://',\n  supportedTypes: [],\n  features: ['immutable', 'on-chain', 'chunked', 'large-files'],\n};\n\n/** D:// Protocol provider */\nexport const D_PROTOCOL_PROVIDER: StorageProvider = {\n  id: 'd-protocol',\n  name: 'D:// Protocol',\n  description: 'Dynamic Bitcoin SV storage with updates',\n  type: 'blockchain',\n  permanence: 'permanent',\n  tier: 'hot',\n  icon: 'refresh-cw',\n  maxFileSize: 100000,\n  supportsDirectories: false,\n  decentralized: true,\n  requiresPayment: true,\n  costPerMb: 0.5,\n  uriPrefix: 'd://',\n  supportedTypes: [],\n  features: ['updatable', 'on-chain', 'versioned'],\n};\n\n/** AWS S3 provider */\nexport const S3_PROVIDER: StorageProvider = {\n  id: 's3',\n  name: 'Amazon S3',\n  description: 'AWS Simple Storage Service',\n  type: 'cloud',\n  permanence: 'temporary',\n  tier: 'hot',\n  icon: 'cloud',\n  maxFileSize: 5000000000000, // 5TB\n  supportsDirectories: true,\n  decentralized: false,\n  requiresPayment: true,\n  costPerMb: 0.000023, // ~$0.023 per GB\n  uriPrefix: 's3://',\n  supportedTypes: [],\n  features: ['scalable', 'cdn', 'versioning', 'lifecycle'],\n};\n\n/** Supabase Storage provider */\nexport const SUPABASE_PROVIDER: StorageProvider = {\n  id: 'supabase',\n  name: 'Supabase Storage',\n  description: 'Supabase file storage with RLS',\n  type: 'cloud',\n  permanence: 'temporary',\n  tier: 'hot',\n  icon: 'database',\n  maxFileSize: 50000000, // 50MB default\n  supportsDirectories: true,\n  decentralized: false,\n  requiresPayment: false,\n  costPerMb: 0,\n  uriPrefix: 'supabase://',\n  supportedTypes: [],\n  features: ['rls', 'cdn', 'transforms', 'policies'],\n};\n\n/** Local storage provider */\nexport const LOCAL_PROVIDER: StorageProvider = {\n  id: 'local',\n  name: 'Local Storage',\n  description: 'Local filesystem storage',\n  type: 'cloud',\n  permanence: 'temporary',\n  tier: 'hot',\n  icon: 'hard-drive',\n  maxFileSize: 0,\n  supportsDirectories: true,\n  decentralized: false,\n  requiresPayment: false,\n  costPerMb: 0,\n  uriPrefix: 'file://',\n  supportedTypes: [],\n  features: ['fast', 'private', 'no-network'],\n};\n\n// ============================================================================\n// Provider Collections\n// ============================================================================\n\n/** All storage providers */\nexport const STORAGE_PROVIDERS: StorageProvider[] = [\n  IPFS_PROVIDER,\n  ARWEAVE_PROVIDER,\n  B_PROTOCOL_PROVIDER,\n  BCAT_PROVIDER,\n  D_PROTOCOL_PROVIDER,\n  S3_PROVIDER,\n  SUPABASE_PROVIDER,\n  LOCAL_PROVIDER,\n];\n\n/** Providers by ID */\nexport const PROVIDERS_BY_ID: Record<string, StorageProvider> = {\n  ipfs: IPFS_PROVIDER,\n  arweave: ARWEAVE_PROVIDER,\n  'b-protocol': B_PROTOCOL_PROVIDER,\n  bcat: BCAT_PROVIDER,\n  'd-protocol': D_PROTOCOL_PROVIDER,\n  s3: S3_PROVIDER,\n  supabase: SUPABASE_PROVIDER,\n  local: LOCAL_PROVIDER,\n};\n\n/** Blockchain providers */\nexport const BLOCKCHAIN_PROVIDERS = [\n  B_PROTOCOL_PROVIDER,\n  BCAT_PROVIDER,\n  D_PROTOCOL_PROVIDER,\n];\n\n/** Decentralized providers */\nexport const DECENTRALIZED_PROVIDERS = [\n  IPFS_PROVIDER,\n  ARWEAVE_PROVIDER,\n  ...BLOCKCHAIN_PROVIDERS,\n];\n\n/** Cloud providers */\nexport const CLOUD_PROVIDERS = [S3_PROVIDER, SUPABASE_PROVIDER, LOCAL_PROVIDER];\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\n/**\n * Get provider by ID\n */\nexport function getProvider(id: string): StorageProvider | undefined {\n  return PROVIDERS_BY_ID[id];\n}\n\n/**\n * Get provider or throw\n */\nexport function getProviderOrThrow(id: string): StorageProvider {\n  const provider = getProvider(id);\n  if (!provider) {\n    throw new Error(`Storage provider not found: ${id}`);\n  }\n  return provider;\n}\n\n/**\n * Select best provider based on criteria\n */\nexport function selectBestProvider(\n  criteria: StorageSelectionCriteria\n): StorageProvider | undefined {\n  let candidates = [...STORAGE_PROVIDERS];\n\n  // Filter by file size\n  if (criteria.fileSize) {\n    candidates = candidates.filter(\n      (p) => p.maxFileSize === 0 || p.maxFileSize >= criteria.fileSize!\n    );\n  }\n\n  // Filter by permanence\n  if (criteria.permanence) {\n    const permanenceOrder: StoragePermanence[] = ['temporary', 'pinned', 'permanent'];\n    const minIndex = permanenceOrder.indexOf(criteria.permanence);\n    candidates = candidates.filter(\n      (p) => permanenceOrder.indexOf(p.permanence) >= minIndex\n    );\n  }\n\n  // Filter by decentralization\n  if (criteria.requireDecentralized) {\n    candidates = candidates.filter((p) => p.decentralized);\n  }\n\n  // Filter by budget\n  if (criteria.budget) {\n    const maxCost = {\n      free: 0,\n      low: 0.01,\n      medium: 0.1,\n      high: 1,\n      unlimited: Infinity,\n    }[criteria.budget];\n    candidates = candidates.filter((p) => p.costPerMb <= maxCost);\n  }\n\n  // Sort by cost (cheapest first)\n  candidates.sort((a, b) => a.costPerMb - b.costPerMb);\n\n  return candidates[0];\n}\n\n/**\n * Get providers matching criteria\n */\nexport function getMatchingProviders(\n  criteria: StorageSelectionCriteria\n): StorageProvider[] {\n  let candidates = [...STORAGE_PROVIDERS];\n\n  if (criteria.fileSize) {\n    candidates = candidates.filter(\n      (p) => p.maxFileSize === 0 || p.maxFileSize >= criteria.fileSize!\n    );\n  }\n\n  if (criteria.permanence === 'permanent') {\n    candidates = candidates.filter((p) => p.permanence === 'permanent');\n  }\n\n  if (criteria.requireDecentralized) {\n    candidates = candidates.filter((p) => p.decentralized);\n  }\n\n  return candidates;\n}\n\n/**\n * Estimate storage cost\n */\nexport function estimateStorageCost(\n  providerId: string,\n  sizeBytes: number\n): { cost: number; currency: string } {\n  const provider = getProvider(providerId);\n  if (!provider) {\n    return { cost: 0, currency: 'USD' };\n  }\n\n  const sizeMb = sizeBytes / (1024 * 1024);\n  return {\n    cost: sizeMb * provider.costPerMb,\n    currency: 'USD',\n  };\n}\n\n/**\n * Format storage size\n */\nexport function formatStorageSize(bytes: number): string {\n  if (bytes === 0) return '0 B';\n  const k = 1024;\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(2))} ${sizes[i]}`;\n}\n\n/**\n * Parse storage URI\n */\nexport function parseStorageUri(uri: string): {\n  provider?: string;\n  path: string;\n} {\n  for (const provider of STORAGE_PROVIDERS) {\n    if (uri.startsWith(provider.uriPrefix)) {\n      return {\n        provider: provider.id,\n        path: uri.slice(provider.uriPrefix.length),\n      };\n    }\n  }\n\n  // Check for common patterns\n  if (uri.startsWith('https://') || uri.startsWith('http://')) {\n    if (uri.includes('ipfs.io') || uri.includes('dweb.link')) {\n      return { provider: 'ipfs', path: uri };\n    }\n    if (uri.includes('arweave.net')) {\n      return { provider: 'arweave', path: uri };\n    }\n  }\n\n  return { path: uri };\n}\n\n/**\n * Create storage reference\n */\nexport function createStorageReference(options: {\n  provider: string;\n  uri: string;\n  hash?: string;\n  size?: number;\n  contentType?: string;\n  metadata?: Record<string, unknown>;\n}): StorageReference {\n  return {\n    provider: options.provider,\n    uri: options.uri,\n    hash: options.hash,\n    size: options.size,\n    contentType: options.contentType,\n    uploadedAt: new Date(),\n    metadata: options.metadata,\n  };\n}\n"],"mappings":"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","names":[]}