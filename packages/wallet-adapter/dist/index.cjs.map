{"version":3,"sources":["../src/index.ts"],"sourcesContent":["/**\n * @b0ase/wallet-adapter\n *\n * Unified wallet adapter for multi-chain connections.\n *\n * @packageDocumentation\n */\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Supported blockchain */\nexport type Blockchain =\n  | 'bsv'\n  | 'bitcoin'\n  | 'ethereum'\n  | 'polygon'\n  | 'arbitrum'\n  | 'optimism'\n  | 'base'\n  | 'solana'\n  | 'avalanche';\n\n/** Wallet type */\nexport type WalletType =\n  | 'handcash'\n  | 'yours'\n  | 'panda'\n  | 'twetch'\n  | 'metamask'\n  | 'walletconnect'\n  | 'coinbase'\n  | 'rainbow'\n  | 'phantom'\n  | 'solflare'\n  | 'backpack'\n  | 'ledger'\n  | 'trezor';\n\n/** Connection status */\nexport type ConnectionStatus =\n  | 'disconnected'\n  | 'connecting'\n  | 'connected'\n  | 'error';\n\n/** Transaction status */\nexport type TransactionStatus =\n  | 'pending'\n  | 'submitted'\n  | 'confirmed'\n  | 'failed';\n\n/** Network type */\nexport type NetworkType = 'mainnet' | 'testnet' | 'devnet' | 'regtest';\n\n/** Wallet capabilities */\nexport interface WalletCapabilities {\n  signMessage: boolean;\n  signTransaction: boolean;\n  signTypedData: boolean;\n  sendTransaction: boolean;\n  encrypt: boolean;\n  decrypt: boolean;\n  switchNetwork: boolean;\n  watchAsset: boolean;\n}\n\n/** Wallet info */\nexport interface WalletInfo {\n  type: WalletType;\n  name: string;\n  icon: string;\n  blockchain: Blockchain[];\n  capabilities: WalletCapabilities;\n  downloadUrl?: string;\n  installed?: boolean;\n}\n\n/** Connected account */\nexport interface ConnectedAccount {\n  address: string;\n  publicKey?: string;\n  paymail?: string;\n  displayName?: string;\n  avatar?: string;\n  blockchain: Blockchain;\n  network: NetworkType;\n}\n\n/** Wallet state */\nexport interface WalletState {\n  status: ConnectionStatus;\n  wallet: WalletInfo | null;\n  account: ConnectedAccount | null;\n  error: string | null;\n  isConnecting: boolean;\n  isConnected: boolean;\n}\n\n/** Transaction request */\nexport interface TransactionRequest {\n  to: string;\n  value?: bigint;\n  data?: string;\n  gasLimit?: bigint;\n  gasPrice?: bigint;\n  maxFeePerGas?: bigint;\n  maxPriorityFeePerGas?: bigint;\n  nonce?: number;\n}\n\n/** BSV transaction request */\nexport interface BSVTransactionRequest {\n  outputs: Array<{\n    to: string;\n    satoshis: bigint;\n    script?: string;\n  }>;\n  inputs?: Array<{\n    txid: string;\n    vout: number;\n    satoshis: bigint;\n    script?: string;\n  }>;\n  changeAddress?: string;\n}\n\n/** Sign message request */\nexport interface SignMessageRequest {\n  message: string;\n  address?: string;\n}\n\n/** Sign typed data request */\nexport interface SignTypedDataRequest {\n  domain: {\n    name?: string;\n    version?: string;\n    chainId?: number;\n    verifyingContract?: string;\n  };\n  types: Record<string, Array<{ name: string; type: string }>>;\n  primaryType: string;\n  message: Record<string, unknown>;\n}\n\n/** Transaction result */\nexport interface TransactionResult {\n  hash: string;\n  status: TransactionStatus;\n  blockNumber?: number;\n  confirmations?: number;\n  gasUsed?: bigint;\n  effectiveGasPrice?: bigint;\n  error?: string;\n}\n\n/** Signature result */\nexport interface SignatureResult {\n  signature: string;\n  address: string;\n  message: string;\n  recoveryId?: number;\n}\n\n/** Balance */\nexport interface Balance {\n  native: bigint;\n  nativeSymbol: string;\n  nativeDecimals: number;\n  tokens?: TokenBalance[];\n}\n\n/** Token balance */\nexport interface TokenBalance {\n  contractAddress: string;\n  symbol: string;\n  name: string;\n  decimals: number;\n  balance: bigint;\n  logo?: string;\n}\n\n/** Network info */\nexport interface NetworkInfo {\n  chainId: number | string;\n  name: string;\n  nativeCurrency: {\n    name: string;\n    symbol: string;\n    decimals: number;\n  };\n  rpcUrl?: string;\n  explorerUrl?: string;\n}\n\n// ============================================================================\n// Wallet Registry\n// ============================================================================\n\nexport const WALLET_REGISTRY: Record<WalletType, WalletInfo> = {\n  handcash: {\n    type: 'handcash',\n    name: 'HandCash',\n    icon: 'https://handcash.io/favicon.ico',\n    blockchain: ['bsv'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: false,\n      sendTransaction: true,\n      encrypt: true,\n      decrypt: true,\n      switchNetwork: false,\n      watchAsset: false,\n    },\n    downloadUrl: 'https://handcash.io',\n  },\n  yours: {\n    type: 'yours',\n    name: 'Yours Wallet',\n    icon: 'https://yours.org/favicon.ico',\n    blockchain: ['bsv'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: false,\n      sendTransaction: true,\n      encrypt: true,\n      decrypt: true,\n      switchNetwork: false,\n      watchAsset: false,\n    },\n    downloadUrl: 'https://yours.org',\n  },\n  panda: {\n    type: 'panda',\n    name: 'Panda Wallet',\n    icon: 'https://panda.org/favicon.ico',\n    blockchain: ['bsv'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: false,\n      sendTransaction: true,\n      encrypt: false,\n      decrypt: false,\n      switchNetwork: false,\n      watchAsset: false,\n    },\n  },\n  twetch: {\n    type: 'twetch',\n    name: 'Twetch Wallet',\n    icon: 'https://twetch.com/favicon.ico',\n    blockchain: ['bsv'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: false,\n      sendTransaction: true,\n      encrypt: false,\n      decrypt: false,\n      switchNetwork: false,\n      watchAsset: false,\n    },\n    downloadUrl: 'https://twetch.com',\n  },\n  metamask: {\n    type: 'metamask',\n    name: 'MetaMask',\n    icon: 'https://metamask.io/favicon.ico',\n    blockchain: ['ethereum', 'polygon', 'arbitrum', 'optimism', 'base', 'avalanche'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: true,\n      sendTransaction: true,\n      encrypt: true,\n      decrypt: true,\n      switchNetwork: true,\n      watchAsset: true,\n    },\n    downloadUrl: 'https://metamask.io',\n  },\n  walletconnect: {\n    type: 'walletconnect',\n    name: 'WalletConnect',\n    icon: 'https://walletconnect.org/favicon.ico',\n    blockchain: ['ethereum', 'polygon', 'arbitrum', 'optimism', 'base', 'avalanche'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: true,\n      sendTransaction: true,\n      encrypt: false,\n      decrypt: false,\n      switchNetwork: true,\n      watchAsset: false,\n    },\n  },\n  coinbase: {\n    type: 'coinbase',\n    name: 'Coinbase Wallet',\n    icon: 'https://coinbase.com/favicon.ico',\n    blockchain: ['ethereum', 'polygon', 'arbitrum', 'optimism', 'base'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: true,\n      sendTransaction: true,\n      encrypt: false,\n      decrypt: false,\n      switchNetwork: true,\n      watchAsset: true,\n    },\n    downloadUrl: 'https://coinbase.com/wallet',\n  },\n  rainbow: {\n    type: 'rainbow',\n    name: 'Rainbow',\n    icon: 'https://rainbow.me/favicon.ico',\n    blockchain: ['ethereum', 'polygon', 'arbitrum', 'optimism', 'base'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: true,\n      sendTransaction: true,\n      encrypt: false,\n      decrypt: false,\n      switchNetwork: true,\n      watchAsset: false,\n    },\n    downloadUrl: 'https://rainbow.me',\n  },\n  phantom: {\n    type: 'phantom',\n    name: 'Phantom',\n    icon: 'https://phantom.app/favicon.ico',\n    blockchain: ['solana', 'ethereum', 'polygon'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: false,\n      sendTransaction: true,\n      encrypt: false,\n      decrypt: false,\n      switchNetwork: true,\n      watchAsset: false,\n    },\n    downloadUrl: 'https://phantom.app',\n  },\n  solflare: {\n    type: 'solflare',\n    name: 'Solflare',\n    icon: 'https://solflare.com/favicon.ico',\n    blockchain: ['solana'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: false,\n      sendTransaction: true,\n      encrypt: false,\n      decrypt: false,\n      switchNetwork: true,\n      watchAsset: false,\n    },\n    downloadUrl: 'https://solflare.com',\n  },\n  backpack: {\n    type: 'backpack',\n    name: 'Backpack',\n    icon: 'https://backpack.app/favicon.ico',\n    blockchain: ['solana', 'ethereum'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: false,\n      sendTransaction: true,\n      encrypt: false,\n      decrypt: false,\n      switchNetwork: true,\n      watchAsset: false,\n    },\n    downloadUrl: 'https://backpack.app',\n  },\n  ledger: {\n    type: 'ledger',\n    name: 'Ledger',\n    icon: 'https://ledger.com/favicon.ico',\n    blockchain: ['bsv', 'bitcoin', 'ethereum', 'solana'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: true,\n      sendTransaction: true,\n      encrypt: false,\n      decrypt: false,\n      switchNetwork: false,\n      watchAsset: false,\n    },\n    downloadUrl: 'https://ledger.com',\n  },\n  trezor: {\n    type: 'trezor',\n    name: 'Trezor',\n    icon: 'https://trezor.io/favicon.ico',\n    blockchain: ['bitcoin', 'ethereum'],\n    capabilities: {\n      signMessage: true,\n      signTransaction: true,\n      signTypedData: true,\n      sendTransaction: true,\n      encrypt: false,\n      decrypt: false,\n      switchNetwork: false,\n      watchAsset: false,\n    },\n    downloadUrl: 'https://trezor.io',\n  },\n};\n\n// ============================================================================\n// Wallet Adapter\n// ============================================================================\n\nexport interface WalletAdapter {\n  readonly type: WalletType;\n  readonly info: WalletInfo;\n\n  connect(options?: ConnectOptions): Promise<ConnectedAccount>;\n  disconnect(): Promise<void>;\n  getAccount(): ConnectedAccount | null;\n  getBalance(): Promise<Balance>;\n\n  signMessage(request: SignMessageRequest): Promise<SignatureResult>;\n  signTransaction(request: TransactionRequest | BSVTransactionRequest): Promise<string>;\n  sendTransaction(request: TransactionRequest | BSVTransactionRequest): Promise<TransactionResult>;\n\n  signTypedData?(request: SignTypedDataRequest): Promise<SignatureResult>;\n  switchNetwork?(chainId: number | string): Promise<void>;\n  watchAsset?(asset: { address: string; symbol: string; decimals: number; image?: string }): Promise<boolean>;\n\n  on(event: WalletEvent, callback: WalletEventCallback): () => void;\n}\n\n/** Connect options */\nexport interface ConnectOptions {\n  network?: NetworkType;\n  chainId?: number | string;\n  forceReconnect?: boolean;\n}\n\n/** Wallet event */\nexport type WalletEvent =\n  | 'connect'\n  | 'disconnect'\n  | 'accountsChanged'\n  | 'chainChanged'\n  | 'error';\n\n/** Wallet event callback */\nexport type WalletEventCallback = (data: unknown) => void;\n\n// ============================================================================\n// Wallet Manager\n// ============================================================================\n\nexport class WalletManager {\n  private state: WalletState;\n  private adapter: WalletAdapter | null = null;\n  private listeners: Set<(state: WalletState) => void> = new Set();\n  private eventCleanups: Array<() => void> = [];\n\n  constructor() {\n    this.state = {\n      status: 'disconnected',\n      wallet: null,\n      account: null,\n      error: null,\n      isConnecting: false,\n      isConnected: false,\n    };\n  }\n\n  // ==========================================================================\n  // State\n  // ==========================================================================\n\n  getState(): WalletState {\n    return { ...this.state };\n  }\n\n  subscribe(callback: (state: WalletState) => void): () => void {\n    this.listeners.add(callback);\n    callback(this.state);\n    return () => this.listeners.delete(callback);\n  }\n\n  private notify(): void {\n    const state = this.getState();\n    for (const listener of this.listeners) {\n      listener(state);\n    }\n  }\n\n  private updateState(updates: Partial<WalletState>): void {\n    this.state = { ...this.state, ...updates };\n    this.notify();\n  }\n\n  // ==========================================================================\n  // Connection\n  // ==========================================================================\n\n  async connect(adapter: WalletAdapter, options?: ConnectOptions): Promise<ConnectedAccount> {\n    this.updateState({\n      status: 'connecting',\n      isConnecting: true,\n      error: null,\n    });\n\n    try {\n      // Clean up previous adapter\n      if (this.adapter) {\n        await this.disconnect();\n      }\n\n      // Store adapter\n      this.adapter = adapter;\n\n      // Set up event listeners\n      this.setupEventListeners();\n\n      // Connect\n      const account = await adapter.connect(options);\n\n      this.updateState({\n        status: 'connected',\n        wallet: adapter.info,\n        account,\n        isConnecting: false,\n        isConnected: true,\n      });\n\n      return account;\n    } catch (error) {\n      const message = error instanceof Error ? error.message : 'Connection failed';\n      this.updateState({\n        status: 'error',\n        error: message,\n        isConnecting: false,\n        isConnected: false,\n      });\n      throw error;\n    }\n  }\n\n  async disconnect(): Promise<void> {\n    if (this.adapter) {\n      // Clean up event listeners\n      for (const cleanup of this.eventCleanups) {\n        cleanup();\n      }\n      this.eventCleanups = [];\n\n      await this.adapter.disconnect();\n      this.adapter = null;\n    }\n\n    this.updateState({\n      status: 'disconnected',\n      wallet: null,\n      account: null,\n      error: null,\n      isConnecting: false,\n      isConnected: false,\n    });\n  }\n\n  private setupEventListeners(): void {\n    if (!this.adapter) return;\n\n    const cleanup1 = this.adapter.on('disconnect', () => {\n      this.updateState({\n        status: 'disconnected',\n        account: null,\n        isConnected: false,\n      });\n    });\n\n    const cleanup2 = this.adapter.on('accountsChanged', (accounts) => {\n      if (Array.isArray(accounts) && accounts.length > 0) {\n        const account = this.adapter?.getAccount();\n        if (account) {\n          this.updateState({ account });\n        }\n      } else {\n        this.updateState({\n          status: 'disconnected',\n          account: null,\n          isConnected: false,\n        });\n      }\n    });\n\n    const cleanup3 = this.adapter.on('chainChanged', () => {\n      const account = this.adapter?.getAccount();\n      if (account) {\n        this.updateState({ account });\n      }\n    });\n\n    const cleanup4 = this.adapter.on('error', (error) => {\n      const message = error instanceof Error ? error.message : String(error);\n      this.updateState({ error: message, status: 'error' });\n    });\n\n    this.eventCleanups.push(cleanup1, cleanup2, cleanup3, cleanup4);\n  }\n\n  // ==========================================================================\n  // Operations\n  // ==========================================================================\n\n  async getBalance(): Promise<Balance> {\n    if (!this.adapter) {\n      throw new Error('Wallet not connected');\n    }\n    return this.adapter.getBalance();\n  }\n\n  async signMessage(request: SignMessageRequest): Promise<SignatureResult> {\n    if (!this.adapter) {\n      throw new Error('Wallet not connected');\n    }\n    return this.adapter.signMessage(request);\n  }\n\n  async signTransaction(request: TransactionRequest | BSVTransactionRequest): Promise<string> {\n    if (!this.adapter) {\n      throw new Error('Wallet not connected');\n    }\n    return this.adapter.signTransaction(request);\n  }\n\n  async sendTransaction(request: TransactionRequest | BSVTransactionRequest): Promise<TransactionResult> {\n    if (!this.adapter) {\n      throw new Error('Wallet not connected');\n    }\n    return this.adapter.sendTransaction(request);\n  }\n\n  async signTypedData(request: SignTypedDataRequest): Promise<SignatureResult> {\n    if (!this.adapter?.signTypedData) {\n      throw new Error('Wallet does not support typed data signing');\n    }\n    return this.adapter.signTypedData(request);\n  }\n\n  async switchNetwork(chainId: number | string): Promise<void> {\n    if (!this.adapter?.switchNetwork) {\n      throw new Error('Wallet does not support network switching');\n    }\n    return this.adapter.switchNetwork(chainId);\n  }\n\n  // ==========================================================================\n  // Utilities\n  // ==========================================================================\n\n  getAdapter(): WalletAdapter | null {\n    return this.adapter;\n  }\n\n  isConnected(): boolean {\n    return this.state.isConnected;\n  }\n\n  getAccount(): ConnectedAccount | null {\n    return this.state.account;\n  }\n\n  getWalletInfo(): WalletInfo | null {\n    return this.state.wallet;\n  }\n}\n\n// ============================================================================\n// Factory Functions\n// ============================================================================\n\nexport function createWalletManager(): WalletManager {\n  return new WalletManager();\n}\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\nexport function getWalletsForBlockchain(blockchain: Blockchain): WalletInfo[] {\n  return Object.values(WALLET_REGISTRY).filter(w => w.blockchain.includes(blockchain));\n}\n\nexport function getWalletInfo(type: WalletType): WalletInfo {\n  return WALLET_REGISTRY[type];\n}\n\nexport function shortenAddress(address: string, chars: number = 4): string {\n  if (address.length <= chars * 2 + 3) return address;\n  return `${address.slice(0, chars + 2)}...${address.slice(-chars)}`;\n}\n\nexport function formatBalance(balance: bigint, decimals: number, maxDecimals: number = 4): string {\n  const divisor = BigInt(10 ** decimals);\n  const whole = balance / divisor;\n  const fraction = balance % divisor;\n\n  if (fraction === 0n) {\n    return whole.toString();\n  }\n\n  const fractionStr = fraction.toString().padStart(decimals, '0');\n  const trimmed = fractionStr.slice(0, maxDecimals).replace(/0+$/, '');\n\n  if (!trimmed) {\n    return whole.toString();\n  }\n\n  return `${whole}.${trimmed}`;\n}\n\nexport function parseAmount(amount: string, decimals: number): bigint {\n  const [whole, fraction = ''] = amount.split('.');\n  const paddedFraction = fraction.padEnd(decimals, '0').slice(0, decimals);\n  return BigInt(whole || '0') * BigInt(10 ** decimals) + BigInt(paddedFraction || '0');\n}\n\nexport function isValidAddress(address: string, blockchain: Blockchain): boolean {\n  switch (blockchain) {\n    case 'ethereum':\n    case 'polygon':\n    case 'arbitrum':\n    case 'optimism':\n    case 'base':\n    case 'avalanche':\n      return /^0x[a-fA-F0-9]{40}$/.test(address);\n    case 'solana':\n      return /^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(address);\n    case 'bitcoin':\n      return /^(bc1|[13])[a-zA-HJ-NP-Z0-9]{25,89}$/.test(address);\n    case 'bsv':\n      return /^[13][a-km-zA-HJ-NP-Z1-9]{25,34}$/.test(address);\n    default:\n      return address.length > 0;\n  }\n}\n\nexport function getExplorerUrl(blockchain: Blockchain, network: NetworkType, txHash: string): string {\n  const explorers: Record<Blockchain, Record<NetworkType, string>> = {\n    bsv: {\n      mainnet: `https://whatsonchain.com/tx/${txHash}`,\n      testnet: `https://test.whatsonchain.com/tx/${txHash}`,\n      devnet: '',\n      regtest: '',\n    },\n    bitcoin: {\n      mainnet: `https://mempool.space/tx/${txHash}`,\n      testnet: `https://mempool.space/testnet/tx/${txHash}`,\n      devnet: '',\n      regtest: '',\n    },\n    ethereum: {\n      mainnet: `https://etherscan.io/tx/${txHash}`,\n      testnet: `https://sepolia.etherscan.io/tx/${txHash}`,\n      devnet: '',\n      regtest: '',\n    },\n    polygon: {\n      mainnet: `https://polygonscan.com/tx/${txHash}`,\n      testnet: `https://mumbai.polygonscan.com/tx/${txHash}`,\n      devnet: '',\n      regtest: '',\n    },\n    arbitrum: {\n      mainnet: `https://arbiscan.io/tx/${txHash}`,\n      testnet: `https://sepolia.arbiscan.io/tx/${txHash}`,\n      devnet: '',\n      regtest: '',\n    },\n    optimism: {\n      mainnet: `https://optimistic.etherscan.io/tx/${txHash}`,\n      testnet: `https://sepolia-optimism.etherscan.io/tx/${txHash}`,\n      devnet: '',\n      regtest: '',\n    },\n    base: {\n      mainnet: `https://basescan.org/tx/${txHash}`,\n      testnet: `https://sepolia.basescan.org/tx/${txHash}`,\n      devnet: '',\n      regtest: '',\n    },\n    solana: {\n      mainnet: `https://solscan.io/tx/${txHash}`,\n      testnet: `https://solscan.io/tx/${txHash}?cluster=testnet`,\n      devnet: `https://solscan.io/tx/${txHash}?cluster=devnet`,\n      regtest: '',\n    },\n    avalanche: {\n      mainnet: `https://snowtrace.io/tx/${txHash}`,\n      testnet: `https://testnet.snowtrace.io/tx/${txHash}`,\n      devnet: '',\n      regtest: '',\n    },\n  };\n\n  return explorers[blockchain]?.[network] || '';\n}\n\nexport function getChainId(blockchain: Blockchain, network: NetworkType): number | null {\n  const chainIds: Record<Blockchain, Record<NetworkType, number | null>> = {\n    bsv: { mainnet: null, testnet: null, devnet: null, regtest: null },\n    bitcoin: { mainnet: null, testnet: null, devnet: null, regtest: null },\n    ethereum: { mainnet: 1, testnet: 11155111, devnet: null, regtest: null },\n    polygon: { mainnet: 137, testnet: 80001, devnet: null, regtest: null },\n    arbitrum: { mainnet: 42161, testnet: 421614, devnet: null, regtest: null },\n    optimism: { mainnet: 10, testnet: 11155420, devnet: null, regtest: null },\n    base: { mainnet: 8453, testnet: 84532, devnet: null, regtest: null },\n    solana: { mainnet: null, testnet: null, devnet: null, regtest: null },\n    avalanche: { mainnet: 43114, testnet: 43113, devnet: null, regtest: null },\n  };\n\n  return chainIds[blockchain]?.[network] ?? null;\n}\n"],"mappings":"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","names":[]}