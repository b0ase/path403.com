{"version":3,"sources":["../src/index.ts"],"sourcesContent":["/**\n * @b0ase/dopamine\n *\n * Audio manager and visual effects for payment gamification.\n *\n * @packageDocumentation\n */\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Sound effect type */\nexport type SoundEffect =\n  | 'success'\n  | 'error'\n  | 'click'\n  | 'coin'\n  | 'reward'\n  | 'levelup'\n  | 'unlock'\n  | 'notification'\n  | 'whoosh'\n  | 'ding'\n  | 'chime'\n  | 'cash';\n\n/** Visual effect type */\nexport type VisualEffect =\n  | 'confetti'\n  | 'particles'\n  | 'sparkle'\n  | 'glow'\n  | 'pulse'\n  | 'bounce'\n  | 'shake'\n  | 'ripple'\n  | 'explosion'\n  | 'fireworks';\n\n/** Haptic feedback type */\nexport type HapticType =\n  | 'light'\n  | 'medium'\n  | 'heavy'\n  | 'success'\n  | 'warning'\n  | 'error'\n  | 'selection';\n\n/** Trigger type */\nexport type TriggerType =\n  | 'payment_sent'\n  | 'payment_received'\n  | 'token_purchase'\n  | 'token_sale'\n  | 'milestone'\n  | 'achievement'\n  | 'level_up'\n  | 'streak'\n  | 'first_time'\n  | 'custom';\n\n/** Effect config */\nexport interface EffectConfig {\n  sound?: SoundEffect | SoundEffect[];\n  visual?: VisualEffect | VisualEffect[];\n  haptic?: HapticType;\n  duration?: number;\n  intensity?: number;\n  color?: string;\n  colors?: string[];\n}\n\n/** Trigger config */\nexport interface TriggerConfig {\n  type: TriggerType;\n  effects: EffectConfig;\n  condition?: () => boolean;\n  cooldown?: number;\n  maxPerSession?: number;\n}\n\n/** Sound config */\nexport interface SoundConfig {\n  url: string;\n  volume?: number;\n  loop?: boolean;\n  preload?: boolean;\n}\n\n/** Particle config */\nexport interface ParticleConfig {\n  count: number;\n  spread: number;\n  velocity: number;\n  gravity: number;\n  decay: number;\n  colors: string[];\n  shapes: ('circle' | 'square' | 'star')[];\n}\n\n/** Animation config */\nexport interface AnimationConfig {\n  duration: number;\n  easing: 'linear' | 'ease' | 'ease-in' | 'ease-out' | 'ease-in-out' | 'bounce';\n  delay?: number;\n  iterations?: number;\n}\n\n/** Feedback preferences */\nexport interface FeedbackPreferences {\n  soundEnabled: boolean;\n  soundVolume: number;\n  visualEnabled: boolean;\n  hapticEnabled: boolean;\n  reducedMotion: boolean;\n}\n\n// ============================================================================\n// Default Configurations\n// ============================================================================\n\nexport const DEFAULT_PREFERENCES: FeedbackPreferences = {\n  soundEnabled: true,\n  soundVolume: 0.5,\n  visualEnabled: true,\n  hapticEnabled: true,\n  reducedMotion: false,\n};\n\nexport const DEFAULT_PARTICLE_CONFIG: ParticleConfig = {\n  count: 50,\n  spread: 360,\n  velocity: 25,\n  gravity: 0.5,\n  decay: 0.95,\n  colors: ['#FFD700', '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4'],\n  shapes: ['circle', 'square'],\n};\n\nexport const EFFECT_PRESETS: Record<TriggerType, EffectConfig> = {\n  payment_sent: {\n    sound: 'whoosh',\n    visual: 'ripple',\n    haptic: 'light',\n  },\n  payment_received: {\n    sound: ['coin', 'ding'],\n    visual: ['confetti', 'sparkle'],\n    haptic: 'success',\n    colors: ['#FFD700', '#FFA500'],\n  },\n  token_purchase: {\n    sound: 'cash',\n    visual: 'particles',\n    haptic: 'medium',\n  },\n  token_sale: {\n    sound: 'success',\n    visual: 'glow',\n    haptic: 'success',\n  },\n  milestone: {\n    sound: 'reward',\n    visual: 'fireworks',\n    haptic: 'heavy',\n  },\n  achievement: {\n    sound: ['unlock', 'chime'],\n    visual: ['explosion', 'sparkle'],\n    haptic: 'success',\n  },\n  level_up: {\n    sound: 'levelup',\n    visual: ['confetti', 'glow'],\n    haptic: 'heavy',\n    intensity: 1.5,\n  },\n  streak: {\n    sound: 'reward',\n    visual: 'pulse',\n    haptic: 'medium',\n  },\n  first_time: {\n    sound: 'unlock',\n    visual: 'sparkle',\n    haptic: 'success',\n  },\n  custom: {\n    sound: 'click',\n    haptic: 'light',\n  },\n};\n\n// ============================================================================\n// Dopamine Manager\n// ============================================================================\n\nexport class DopamineManager {\n  private preferences: FeedbackPreferences;\n  private triggers: Map<string, TriggerConfig> = new Map();\n  private triggerCounts: Map<string, number> = new Map();\n  private lastTriggerTime: Map<string, number> = new Map();\n  private audioCache: Map<string, HTMLAudioElement> = new Map();\n  private soundUrls: Map<SoundEffect, string> = new Map();\n  private visualHandler?: (effect: VisualEffect, config: EffectConfig) => void;\n  private hapticHandler?: (type: HapticType) => void;\n\n  constructor(preferences?: Partial<FeedbackPreferences>) {\n    this.preferences = { ...DEFAULT_PREFERENCES, ...preferences };\n  }\n\n  // ==========================================================================\n  // Configuration\n  // ==========================================================================\n\n  setPreferences(preferences: Partial<FeedbackPreferences>): void {\n    this.preferences = { ...this.preferences, ...preferences };\n  }\n\n  getPreferences(): FeedbackPreferences {\n    return { ...this.preferences };\n  }\n\n  setSoundUrl(effect: SoundEffect, url: string): void {\n    this.soundUrls.set(effect, url);\n  }\n\n  setSoundUrls(urls: Partial<Record<SoundEffect, string>>): void {\n    for (const [effect, url] of Object.entries(urls)) {\n      this.soundUrls.set(effect as SoundEffect, url);\n    }\n  }\n\n  setVisualHandler(handler: (effect: VisualEffect, config: EffectConfig) => void): void {\n    this.visualHandler = handler;\n  }\n\n  setHapticHandler(handler: (type: HapticType) => void): void {\n    this.hapticHandler = handler;\n  }\n\n  // ==========================================================================\n  // Trigger Management\n  // ==========================================================================\n\n  registerTrigger(id: string, config: TriggerConfig): void {\n    this.triggers.set(id, config);\n    this.triggerCounts.set(id, 0);\n  }\n\n  unregisterTrigger(id: string): void {\n    this.triggers.delete(id);\n    this.triggerCounts.delete(id);\n    this.lastTriggerTime.delete(id);\n  }\n\n  async trigger(typeOrId: TriggerType | string, overrides?: Partial<EffectConfig>): Promise<void> {\n    // Check if it's a registered trigger ID\n    const registered = this.triggers.get(typeOrId);\n    if (registered) {\n      await this.executeTrigger(typeOrId, registered, overrides);\n      return;\n    }\n\n    // Otherwise treat as a trigger type with preset\n    const preset = EFFECT_PRESETS[typeOrId as TriggerType];\n    if (preset) {\n      const config: TriggerConfig = {\n        type: typeOrId as TriggerType,\n        effects: { ...preset, ...overrides },\n      };\n      await this.executeEffects(config.effects);\n    }\n  }\n\n  private async executeTrigger(\n    id: string,\n    config: TriggerConfig,\n    overrides?: Partial<EffectConfig>\n  ): Promise<void> {\n    // Check condition\n    if (config.condition && !config.condition()) {\n      return;\n    }\n\n    // Check cooldown\n    const lastTime = this.lastTriggerTime.get(id) || 0;\n    if (config.cooldown && Date.now() - lastTime < config.cooldown) {\n      return;\n    }\n\n    // Check max per session\n    const count = this.triggerCounts.get(id) || 0;\n    if (config.maxPerSession && count >= config.maxPerSession) {\n      return;\n    }\n\n    // Update tracking\n    this.lastTriggerTime.set(id, Date.now());\n    this.triggerCounts.set(id, count + 1);\n\n    // Execute effects\n    const effects = { ...config.effects, ...overrides };\n    await this.executeEffects(effects);\n  }\n\n  private async executeEffects(config: EffectConfig): Promise<void> {\n    const promises: Promise<void>[] = [];\n\n    // Sound effects\n    if (this.preferences.soundEnabled && config.sound) {\n      const sounds = Array.isArray(config.sound) ? config.sound : [config.sound];\n      for (const sound of sounds) {\n        promises.push(this.playSound(sound));\n      }\n    }\n\n    // Visual effects\n    if (this.preferences.visualEnabled && !this.preferences.reducedMotion && config.visual) {\n      const visuals = Array.isArray(config.visual) ? config.visual : [config.visual];\n      for (const visual of visuals) {\n        this.showVisual(visual, config);\n      }\n    }\n\n    // Haptic feedback\n    if (this.preferences.hapticEnabled && config.haptic) {\n      this.triggerHaptic(config.haptic);\n    }\n\n    await Promise.all(promises);\n  }\n\n  // ==========================================================================\n  // Individual Effects\n  // ==========================================================================\n\n  async playSound(effect: SoundEffect): Promise<void> {\n    const url = this.soundUrls.get(effect);\n    if (!url) return;\n\n    try {\n      let audio = this.audioCache.get(url);\n      if (!audio) {\n        audio = new Audio(url);\n        this.audioCache.set(url, audio);\n      }\n\n      audio.volume = this.preferences.soundVolume;\n      audio.currentTime = 0;\n      await audio.play();\n    } catch (error) {\n      // Audio play failed (common on mobile without user interaction)\n      console.debug(`Failed to play sound: ${effect}`);\n    }\n  }\n\n  showVisual(effect: VisualEffect, config: EffectConfig): void {\n    if (this.visualHandler) {\n      this.visualHandler(effect, config);\n    }\n  }\n\n  triggerHaptic(type: HapticType): void {\n    if (this.hapticHandler) {\n      this.hapticHandler(type);\n      return;\n    }\n\n    // Try native vibration API\n    if (typeof navigator !== 'undefined' && navigator.vibrate) {\n      const patterns: Record<HapticType, number | number[]> = {\n        light: 10,\n        medium: 25,\n        heavy: 50,\n        success: [10, 50, 10],\n        warning: [50, 50, 50],\n        error: [100, 50, 100],\n        selection: 5,\n      };\n      navigator.vibrate(patterns[type]);\n    }\n  }\n\n  // ==========================================================================\n  // Presets\n  // ==========================================================================\n\n  async celebratePayment(amount: number): Promise<void> {\n    const intensity = Math.min(amount / 100, 2); // Scale based on amount\n    await this.trigger('payment_received', { intensity });\n  }\n\n  async celebrateMilestone(name: string): Promise<void> {\n    await this.trigger('milestone');\n  }\n\n  async celebrateAchievement(name: string): Promise<void> {\n    await this.trigger('achievement');\n  }\n\n  async celebrateLevelUp(level: number): Promise<void> {\n    await this.trigger('level_up', { intensity: Math.min(level / 10, 2) });\n  }\n\n  async notifySuccess(): Promise<void> {\n    await this.executeEffects({\n      sound: 'success',\n      haptic: 'success',\n    });\n  }\n\n  async notifyError(): Promise<void> {\n    await this.executeEffects({\n      sound: 'error',\n      visual: 'shake',\n      haptic: 'error',\n    });\n  }\n\n  // ==========================================================================\n  // Session Management\n  // ==========================================================================\n\n  resetSession(): void {\n    this.triggerCounts.clear();\n    this.lastTriggerTime.clear();\n  }\n\n  preloadSounds(): void {\n    for (const [, url] of this.soundUrls) {\n      if (!this.audioCache.has(url)) {\n        const audio = new Audio(url);\n        audio.preload = 'auto';\n        this.audioCache.set(url, audio);\n      }\n    }\n  }\n\n  clearCache(): void {\n    this.audioCache.clear();\n  }\n}\n\n// ============================================================================\n// Factory Functions\n// ============================================================================\n\nexport function createDopamineManager(preferences?: Partial<FeedbackPreferences>): DopamineManager {\n  return new DopamineManager(preferences);\n}\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\nexport function getDefaultSoundUrls(): Record<SoundEffect, string> {\n  // These would typically be replaced with actual asset URLs\n  const baseUrl = 'https://assets.b0ase.com/sounds';\n  return {\n    success: `${baseUrl}/success.mp3`,\n    error: `${baseUrl}/error.mp3`,\n    click: `${baseUrl}/click.mp3`,\n    coin: `${baseUrl}/coin.mp3`,\n    reward: `${baseUrl}/reward.mp3`,\n    levelup: `${baseUrl}/levelup.mp3`,\n    unlock: `${baseUrl}/unlock.mp3`,\n    notification: `${baseUrl}/notification.mp3`,\n    whoosh: `${baseUrl}/whoosh.mp3`,\n    ding: `${baseUrl}/ding.mp3`,\n    chime: `${baseUrl}/chime.mp3`,\n    cash: `${baseUrl}/cash.mp3`,\n  };\n}\n\nexport function createConfettiConfig(\n  colors?: string[],\n  count?: number\n): ParticleConfig {\n  return {\n    ...DEFAULT_PARTICLE_CONFIG,\n    colors: colors || DEFAULT_PARTICLE_CONFIG.colors,\n    count: count || DEFAULT_PARTICLE_CONFIG.count,\n  };\n}\n\nexport function scaleIntensity(base: number, amount: number, maxAmount: number): number {\n  return base * Math.min(amount / maxAmount, 2);\n}\n\nexport function shouldTriggerForAmount(amount: number, threshold: number = 10): boolean {\n  return amount >= threshold;\n}\n\nexport function getRandomColor(colors: string[]): string {\n  return colors[Math.floor(Math.random() * colors.length)];\n}\n\nexport function generateParticles(config: ParticleConfig): Array<{\n  x: number;\n  y: number;\n  vx: number;\n  vy: number;\n  color: string;\n  shape: string;\n  size: number;\n}> {\n  const particles = [];\n  for (let i = 0; i < config.count; i++) {\n    const angle = (Math.random() * config.spread * Math.PI) / 180;\n    const velocity = config.velocity * (0.5 + Math.random() * 0.5);\n\n    particles.push({\n      x: 0.5,\n      y: 0.5,\n      vx: Math.cos(angle) * velocity,\n      vy: Math.sin(angle) * velocity - 10,\n      color: getRandomColor(config.colors),\n      shape: config.shapes[Math.floor(Math.random() * config.shapes.length)],\n      size: 5 + Math.random() * 10,\n    });\n  }\n  return particles;\n}\n"],"mappings":"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","names":[]}